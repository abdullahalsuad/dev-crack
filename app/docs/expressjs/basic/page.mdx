## 1. What is Express.js?

**Express.js** is a lightweight and flexible web framework built on top of Node.js. It simplifies the process of creating web applications and APIs by providing ready-to-use tools for handling HTTP requests, managing routes, and processing data. Think of Express as a toolbox that makes it easier to build a website or a backend server without writing complex Node.js code from scratch.

**Why is it useful?**

It saves time by providing shortcuts for common tasks like routing and middleware.
It‚Äôs widely used for building RESTful APIs (e.g., for mobile apps) and web applications.
It has a huge community, so you can find plenty of tutorials and plugins.

üì¶ **Example:**
Imagine you want to create a website where users can visit different pages (like a homepage or about page). Express makes it easy to define what happens when users visit those pages without needing to handle low-level server details.

---

## 2. How do you install Express.js?

To use Express.js, you need to install it in your Node.js project using npm (Node Package Manager). This adds Express to your project so you can use its features.

üîπ **Steps to Install:**

1. Create a project folder and navigate to it:

```bash
mkdir my-express-app
cd my-express-app
```

2. Initialize a Node.js project (creates a `package.json` file):

```bash
npm init -y
```

3. Install Express.js:

```bash
npm install express
```

4. This command downloads Express and adds it to your project‚Äôs node_modules folder. It also updates package.json to list Express as a dependency.

üì¶ **Example:**

After running `npm install express`, you can verify it‚Äôs installed by checking package.json. You‚Äôll see something like:

```json
"dependencies": {
  "express": "^4.18.2"
}
```

Now you‚Äôre ready to use Express in your code!

---

## 3. How do you create a basic Express server?

Creating a basic Express server involves setting up a Node.js application that listens for HTTP requests and sends responses. Here‚Äôs a step-by-step breakdown of how to do it.

üì¶ **Code Example:**

```javascript
// 1. Import the Express module
const express = require("express");

// 2. Create an Express application
const app = express();

// 3. Define a port number for the server
const port = 3000;

// 4. Create a route for the homepage (GET request)
app.get("/", (req, res) => {
  res.send("Hello, this is my first Express server!");
});

// 5. Start the server
app.listen(port, () => {
  console.log(`Server is running at http://localhost:${port}`);
});
```

**Explanation:**

- Line 1: Imports Express so you can use its features.
- Line 2: Creates an instance of an Express app, which is the core of your server.
- Line 3: Sets the port (3000 is common for development).
- Line 4: Defines a route for the root URL (/) that responds to GET requests with a simple message.
- Line 5: Starts the server, making it listen for requests on `http://localhost:3000`.

**How to Run:**

1. Save the code in a file named app.js.
2. Run node app.js in your terminal.
3. Open a browser and go to `http://localhost:3000`. You‚Äôll see: Hello, this is my first Express server!

---

## 4. What is routing in Express?

Routing in Express is the process of determining how your application responds to client requests for specific URLs and HTTP methods (like GET or POST). Each route maps a URL pattern and HTTP method to a specific function that handles the request.

**Why is routing important?**

It organizes your app by defining what content or action corresponds to each URL.
For example, visiting /about might show an "About Us" page, while /contact shows a contact form.

üì¶ **Example:**

```javascript
const express = require("express");
const app = express();
const port = 3000;

// Route for homepage
app.get("/", (req, res) => {
  res.send("Welcome to the homepage!");
});

// Route for about page
app.get("/about", (req, res) => {
  res.send("This is the about page.");
});

app.listen(port, () => {
  console.log(`Server running at http://localhost:${port}`);
});
```

‚öôÔ∏è **How it works:**

When a user visits `http://localhost:3000/`, the server responds with "Welcome to the homepage!".
When they visit `http://localhost:3000/about`, it responds with "This is the about page.".
Express matches the URL and HTTP method (GET in this case) to the correct route.

---

## 5. What is middleware in Express?

Middleware in Express is like a middleman that processes requests before they reach your route handlers or after they leave them. It‚Äôs a function that has access to the req (request), res (response), and next (a function to pass control to the next middleware or route). Middleware can:

Modify the request or response (e.g., add data to req).
Perform tasks like logging, authentication, or parsing data.
End the request-response cycle or pass control to the next middleware.

üì¶ **Example:**

```javascript
const express = require("express");
const app = express();
const port = 3000;

// Middleware to log request details
app.use((req, res, next) => {
  console.log(`Received a ${req.method} request to ${req.url}`);
  next(); // Pass control to the next middleware or route
});

// Route
app.get("/", (req, res) => {
  res.send("Hello from the server!");
});

app.listen(port, () => {
  console.log(`Server running at http://localhost:${port}`);
});
```

‚öôÔ∏è **How it works:**

The middleware logs the HTTP method (e.g., GET) and URL (e.g., /) for every request.
`next()` ensures the request moves to the route handler.
When you visit `http://localhost:3000`, the console logs: Received a GET request to `/`, and the browser shows: Hello from the server!.

---

## 6. How do you use middleware in Express?

In Express, middleware is added using the `app.use()` function or by specifying it for specific routes. Middleware can be applied globally (for all requests) or to specific routes. The `express.json()` middleware, for example, parses incoming JSON data so you can access it in `req.body`.

üîπ **Steps to Use Middleware:**

Define or import the middleware.
Use `app.use()` to apply it globally or pass it to a specific route.
Ensure the middleware calls `next()` if it should pass control to the next handler.

üì¶ **Example:**

```javascript
const express = require("express");
const app = express();
const port = 3000;

// Use built-in middleware to parse JSON
app.use(express.json());

// Custom middleware to log request time
app.use((req, res, next) => {
  console.log(`Request received at: ${new Date().toISOString()}`);
  next();
});

// Route to handle POST request
app.post("/data", (req, res) => {
  console.log("Received data:", req.body);
  res.send("Data received!");
});

app.listen(port, () => {
  console.log(`Server running at http://localhost:${port}`);
});
```

‚öôÔ∏è **How it works:**

`app.use(express.json())`: Parses JSON data sent in POST requests.
Custom middleware logs the time of each request.
The `/data` route logs the JSON data sent in the request body.
Test it using a tool like Postman: Send a POST request to `http://localhost:3000/data` with JSON like `{"name": "John"}`. The console shows the data, and the browser shows "Data received!".

---

## 7. What are route parameters?

Route parameters are dynamic parts of a URL that you define using a colon (`:`) in your route path. They allow you to capture values from the URL and use them in your route handler. For example, `/users/:id` captures the `id` value from the URL and makes it available in `req.params`.

**Why use route parameters?**

- They make routes flexible, allowing you to handle dynamic data (e.g., user IDs, product IDs).
- Common for APIs or pages that display specific data.
  Example:

üì¶ **Example:**

```javascript
const express = require("express");
const app = express();
const port = 3000;

app.get("/users/:id", (req, res) => {
  const userId = req.params.id; // Get the :id value from the URL
  res.send(`You requested user with ID: ${userId}`);
});

app.listen(port, () => {
  console.log(`Server running at http://localhost:${port}`);
});
```

‚öôÔ∏è **How it works:**

Visiting `http://localhost:3000/users/123` shows: `You requested user with ID: 123`.
Visiting `http://localhost:3000/users/abc` shows: `You requested user with ID: abc`.
The `:id` in the route captures whatever value is in that part of the URL and stores it in `req.params.id`.

---

## 8. How do you handle POST requests in Express?

POST requests are used to send data to the server, such as form submissions or API data. In Express, you handle POST requests using `app.post()` and often use the `express.json()` middleware to parse incoming JSON data.

üîπ **Steps:**

1. Use `app.use(express.json())` to parse JSON data.
2. Define a route with `app.post()` to handle the POST request.
3. Access the sent data in `req.body` and send a response.

üì¶ **Example:**

```javascript
const express = require("express");
const app = express();
const port = 3000;

// Middleware to parse JSON
app.use(express.json());

// Handle POST request
app.post("/users", (req, res) => {
  const user = req.body; // Get data from request body
  res.send(`User ${user.name} created successfully!`);
});

app.listen(port, () => {
  console.log(`Server running at http://localhost:${port}`);
});
```

‚öôÔ∏è **How it works:**

- Send a POST request to `http://localhost:3000/users` with JSON like `{"name": "Alice"}` (use Postman or curl).
- The server reads the JSON data (`req.body`) and responds with: `User Alice created successfully!`.
- Without `express.json()`, `req.body` would be undefined.

---

## 9. What is express.json()?

`express.json()` is a built-in Express middleware that parses incoming requests with JSON payloads. It takes the JSON data sent in the request body (e.g., from a form or API call) and converts it into a JavaScript object, making it available in `req.body`.

**Why is it needed?**

- Many POST or PUT requests send data in JSON format.
- Without `express.json()`, you can‚Äôt easily access this data.

```javascript
const express = require("express");
const app = express();
const port = 3000;

// Enable JSON parsing
app.use(express.json());

app.post("/submit", (req, res) => {
  const data = req.body; // Access JSON data
  res.send(`Received: ${data.message}`);
});

app.listen(port, () => {
  console.log(`Server running at http://localhost:${port}`);
});
```

‚öôÔ∏è **How it works:**

- Send a POST request to `http://localhost:3000/submit `with JSON: `{"message": "Hello"}`.
- The `express.json()` middleware parses the JSON, so `req.body.message` is "Hello".
- The server responds: `Received: Hello`.

---

## 10. What is express.static()?

`express.static()` is a built-in Express middleware that serves static files (like HTML, CSS, images, or JavaScript) from a specified folder. When a client requests a file, Express automatically sends it without needing a custom route.

**Why use it?**

- Simplifies serving assets like stylesheets, scripts, or images for your web app.
- No need to write routes for each file.

üì¶ **Example:**

1. Create a folder named `public` in your project with an `index.html` file:

```html
<!-- public/index.html -->
<h1>Welcome to my site!</h1>
```

2. Set up your Express app:

```javascript
const express = require("express");
const app = express();
const port = 3000;

// Serve static files from the 'public' folder
app.use(express.static("public"));

app.listen(port, () => {
  console.log(`Server running at http://localhost:${port}`);
});
```

‚öôÔ∏è **How it works:**

- Visiting `http://localhost:3000/index.html` serves the `index.html` file from the `public` folder.
- If you add `public/styles.css`, it‚Äôs available at `http://localhost:3000/styles.css`.
- The `public` folder acts like the root directory for static files.

---

## 11. How do you handle errors in Express?

Express allows you to handle errors using special error-handling middleware. This middleware has four parameters (`err`, `req`, `res`, `next`) and is called when an error occurs in your app. You can use it to send custom error messages or log errors.

üîπ **Steps:**

- Define error-handling middleware at the end of your middleware stack.
- Use `next(err)` in routes to pass errors to this middleware.
- Send a response with an error message and status code.

üì¶ **Example:**

```javascript
const express = require("express");
const app = express();
const port = 3000;

app.get("/", (req, res, next) => {
  try {
    throw new Error("Something went wrong!");
  } catch (err) {
    next(err); // Pass error to error-handling middleware
  }
});

// Error-handling middleware
app.use((err, req, res, next) => {
  console.error(err.message); // Log the error
  res.status(500).send("Oops, something broke!");
});

app.listen(port, () => {
  console.log(`Server running at http://localhost:${port}`);
});
```

‚öôÔ∏è **How it works:**

The `/` route throws an error, which is passed to the error-handling middleware via `next(err)`.
The middleware catches the error, logs it, and sends a 500 status with a message.
Visiting `http://localhost:3000` shows: `Oops, something broke!`.

---

## 12. What is the difference between `app.get()` and `app.use()`?

In Express, `app.get()` and `app.use()` serve different purposes:

`app.get(path, callback)`
Defines a route handler for **GET requests** to a specific URL path. It‚Äôs used to send responses for specific routes and HTTP methods.

`app.use([path], callback)`
Applies middleware or route handlers to **all HTTP methods** (`GET`, `POST`, etc.) for a given path (or **all paths** if no path is specified). It‚Äôs commonly used for middleware.

**Key Differences:**

- `app.get()` is **specific to GET requests**; `app.use()` applies to **all HTTP methods**.
- `app.get()` is typically used for **routes**; `app.use()` is used for **middleware** or general-purpose handlers.
- `app.use()` can take an **optional path**, while `app.get()` **always requires a path**.

---

üì¶ **Example:**

```js
const express = require("express");
const app = express();
const port = 3000;

// Middleware with app.use
app.use((req, res, next) => {
  console.log("This runs for ALL requests");
  next();
});

// Route with app.get
app.get("/home", (req, res) => {
  res.send("Welcome to the home page!");
});

app.listen(port, () => {
  console.log(`Server running at http://localhost:${port}`);
});
```

‚öôÔ∏è **How it works:**

- The `app.use` middleware logs a message for all requests, regardless of the URL or method.
- The `app.get` route only responds to GET requests to /home.
- Visiting `http://localhost:3000/home` logs the middleware message and shows: `Welcome to the home page!`.

---

## 13. What is req.body?

`req.body` is an object in Express that contains data sent by the client in the body of a request, typically in POST or PUT requests. This data could come from HTML forms, JSON payloads, or other sources. To use `req.body`, you need middleware like `express.json()` or `express.urlencoded()` to parse the data.

**Why is it useful?**

- It lets you access user-submitted data, like form inputs or API data.

üì¶ **Example:**

```js
const express = require("express");
const app = express();
const port = 3000;

// Middleware to parse JSON
app.use(express.json());

app.post("/signup", (req, res) => {
  const { username } = req.body; // Access data from request body
  res.send(`Welcome, ${username}!`);
});

app.listen(port, () => {
  console.log(`Server running at http://localhost:${port}`);
});
```

‚öôÔ∏è **How it works:**

- Send a POST request to `http://localhost:3000/signup` with JSON: `{"username": "Bob"}`.
- The `express.json()` middleware parses the JSON, `so req.body.username` is "Bob".
- The server responds: `Welcome, Bob!`.

---

## 14. What is req.params?

`req.params` is an object in Express that holds the values of route parameters (dynamic parts of the URL defined with a colon, `:`). These parameters allow you to capture specific values from the URL to use in your route handler.

üì¶ **Example:**

```js
const express = require("express");
const app = express();
const port = 3000;

app.get("/books/:bookId", (req, res) => {
  const bookId = req.params.bookId; // Get the :bookId value
  res.send(`You requested book ID: ${bookId}`);
});

app.listen(port, () => {
  console.log(`Server running at http://localhost:${port}`);
});
```

‚öôÔ∏è **How it works:**

- The route `/books/:bookId` matches URLs like `/books/123` or `/books/abc`.
- Visiting `http://localhost:3000/books/123` sets `req.params.bookId` to "123".
- The server responds: `You requested book ID: 123`.

---

## 15. What is req.query?

`req.query` is an object in Express that contains key-value pairs from the query string in a URL. The query string is the part of the URL after a ?, where parameters are written as key=value pairs, separated by &.

**Why use it?**

Query parameters are often used for filtering, searching, or passing optional data (e.g., search terms, page numbers).

üì¶ **Example:**

```js
const express = require("express");
const app = express();
const port = 3000;

app.get("/search", (req, res) => {
  const searchTerm = req.query.q; // Get the 'q' query parameter
  res.send(`You searched for: ${searchTerm}`);
});

app.listen(port, () => {
  console.log(`Server running at http://localhost:${port}`);
});
```

‚öôÔ∏è **How it works:**

- Visiting `http://localhost:3000/search?q=javascript` sets `req.query.q` to "javascript".
- The server responds: You searched for: javascript.
- Multiple query parameters (e.g., `/search?q=javascript&sort=asc`) are available as `req.query.q` and `req.query.sort`.

---

## 16. How do you set up CORS in Express?

CORS (Cross-Origin Resource Sharing) allows your Express server to accept requests from different domains (e.g., a frontend app hosted on a different server). The cors package simplifies enabling CORS in Express.

üîπ **Steps:**

1. Install the cors package:

```bash
npm install cors
```

2. Use the cors middleware in your app.

üì¶ **Example:**

```js
const express = require("express");
const cors = require("cors");
const app = express();
const port = 3000;

// Enable CORS for all routes
app.use(cors());

app.get("/data", (req, res) => {
  res.json({ message: "This data can be accessed from any domain!" });
});

app.listen(port, () => {
  console.log(`Server running at http://localhost:${port}`);
});
```

‚öôÔ∏è **How it works:**

- The cors middleware adds headers to allow cross-origin requests.
- A frontend app on `http://example.com` can now fetch data from `http://localhost:3000/data`.
- You can customize CORS (e.g., allow specific domains) by passing options to `cors()`.

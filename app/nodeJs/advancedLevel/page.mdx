# Node.js Interview Questions - Advanced Level

---

### 1. What is the use of `crypto` module in Node.js?

> The `crypto` module provides cryptographic functionalities like hashing, encryption, and key generation.

### 2. What is event-driven architecture?

> It's a design pattern where components communicate by emitting and listening to events. Node.js follows this pattern.

### 3. How to implement logging in Node.js?

> Use `console.log()` for basic logging, or packages like **winston** or **morgan** for advanced logging.

### 4. What is an HTTP server in Node.js?

> It's a server created using the `http` module that listens for and handles HTTP requests/responses.

### 5. What is the difference between 301 and 302 redirects?

> - **301** is a permanent redirect.
> - **302** is temporary.
> - 301 is cached by browsers, 302 is not.

### 6. How do you handle file system operations in Node.js?

> Use the `fs` module. It provides synchronous and asynchronous methods for reading, writing, and managing files.

### 7. Difference between `fs.readFile()` and `fs.readFileSync()`?

> - `fs.readFile()` is asynchronous (non-blocking).
> - `fs.readFileSync()` is synchronous (blocking).
> - The async version is preferred in production.

### 8. What is `require.cache` in Node.js?

> `require.cache` stores modules that have been loaded. When a module is required again, it uses the cached version to improve performance.

### 9. What is the use of `exports` and `module.exports`?

> - Both are used to export functions, objects, or values from a Node.js module.
> - `exports` is a shortcut; `module.exports` is the actual exported object.

### 10. How does Node.js handle concurrency if it's single-threaded?

> Node.js uses an event loop and non-blocking I/O via **libuv** to handle multiple operations concurrently without blocking the main thread.

### 11. What is `libuv` in Node.js?

> `libuv` is a C++ library that provides Node.js with its event loop, async I/O, and thread pool functionalities.

### 12. What is the purpose of `cluster.fork()`?

> `cluster.fork()` is used to spawn a new worker process (child process). Each worker shares the same server port and can handle requests independently.

### 13. What are sticky sessions in clustering?

> Sticky sessions ensure that the same client is always routed to the same worker process. Useful for session-based apps.

### 14. What is an `Agent` in Node.js HTTP module?

> An `Agent` manages connection persistence and reuse for HTTP clients. It pools sockets to improve performance.

### 15. What are some ways to improve Node.js performance?

> - Use clustering or child processes
> - Avoid blocking operations
> - Use streams for large data
> - Use caching (Redis, memory)
> - Optimize database queries
> - Use `async/await` or Promises properly

### 16. What is the purpose of `domain` module?

> The `domain` module (deprecated) was used to group multiple I/O operations for error handling. Prefer `try/catch` or async error handling.

### 17. What is the use of `process.exit()`?

> `process.exit()` ends the Node.js process with a given exit code (`0` = success, `1` = error). Useful for scripts.

### 18. What is middleware order in Express.js?

> Middleware runs in the order defined in code. Order matters because each middleware can affect the request/response pipeline.

### 19. How does Express handle async errors?

> Use `try/catch` blocks inside `async` functions or libraries like **express-async-handler** to pass errors to the error-handling middleware.

### 20. What is a 404 middleware in Express?

> ```js
> app.use((req, res) => {
>   res.status(404).send("Not Found");
> });
> ```
>
> It's a middleware placed last to handle undefined routes.

### 21. How can you secure a Node.js application?

> - Use **Helmet** for HTTP headers
> - Sanitize inputs
> - Use HTTPS
> - Avoid exposing sensitive data
> - Implement rate limiting
> - Keep dependencies updated
> - Use CORS carefully

### 22. Difference between `PUT` and `PATCH`?

> - **PUT**: Replaces the entire resource.
> - **PATCH**: Updates specific fields only.

### 23. What is a Memory Leak?

> When your app keeps allocating memory without releasing it. Often caused by forgotten timers, listeners, or global variables.

### 24. Difference between `spawn` and `exec` in `child_process`?

> - `spawn`: Streams data in real time.
> - `exec`: Buffers all output and returns it at once.
> - `spawn` is better for large outputs.

### 25. What is the purpose of the `crypto` module?

> Provides cryptographic functionality including hashing, encryption, decryption, and secure random number generation.

---
